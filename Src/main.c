/**
  ******************************************************************************
  * @file    main.c
  * @author  Auto-generated by STM32CubeIDE
  * @version V1.0
  * @brief   Default main function.
  ******************************************************************************
*/

#if !defined(__SOFT_FP__) && defined(__ARM_FP)
  #warning "FPU is not initialized, but the project is compiling for an FPU. Please initialize the FPU before use."
#endif


#include "main.h"


int main(void)
{
	PCLK_Enable();
	GPIO_PW_Output_Init();
	GPIO_LC_Output_Init();
	GPIO_PW_Input_Init();
	GPIO_LC_Input_Init();
	while(1)
	{
		GPIO_LC_Operations();
	}
}

void EXTI9_5_IRQHandler(void)
{
  	if(EXTI->PR & (1 << RapidUpDriverBtn))
	{
		GPIO_IRQHandling(RapidUpDriverBtn);//clear the pending event from exti line
		Start_BLDC_Motor_Up_Driver();

	}
	if(EXTI->PR & (1 << RapidDownDriverBtn))
	{
		GPIO_IRQHandling(RapidDownDriverBtn);
		 //clear the pending event from exti line
		Start_BLDC_Motor_Down_Driver();
	}
	if(EXTI->PR & (1 << RapidUpFrontLeftBtn))
	{
		GPIO_IRQHandling(RapidUpFrontLeftBtn);
		//clear the pending event from exti line
		Start_BLDC_Motor_Up_FrontLeft();
	}
}
void EXTI15_10_IRQHandler(void)
{
	if(EXTI->PR & (1 << RapidDownFrontLeftBtn))
	{
		GPIO_IRQHandling(RapidDownFrontLeftBtn);
		//clear the pending event from exti line
		Start_BLDC_Motor_Down_FrontLeft();
			}
	if(EXTI->PR & (1 << RapidUpRearRightBtn))
	{
		GPIO_IRQHandling(RapidUpRearRightBtn);
		 //clear the pending event from exti line
		Start_BLDC_Motor_Up_RearRight();

	}
	if(EXTI->PR & (1 << RapidDownRearRightBtn))
	{
		GPIO_IRQHandling(RapidDownRearRightBtn);
			//clear the pending event from exti line
		Start_BLDC_Motor_Down_RearRight();

	}
	if(EXTI->PR & (1 << RapidUpRearLeftBtn))
	{
		GPIO_IRQHandling(RapidUpRearLeftBtn);
		//clear the pending event from exti line
		Start_BLDC_Motor_Up_RearLeft();

	}
	if(EXTI->PR & (1 << RapidDownRearLeftBtn))
	{
		GPIO_IRQHandling(RapidDownRearLeftBtn);
		//clear the pending event from exti line
		Start_BLDC_Motor_Down_RearLeft();
	}
}
void PCLK_Enable(void)
{
	GPIO_PCLK_Control(GPIOA, ENABLE);
	GPIO_PCLK_Control(GPIOB, ENABLE);
	GPIO_PCLK_Control(GPIOC, ENABLE);
	GPIO_PCLK_Control(GPIOD, ENABLE);
	GPIO_PCLK_Control(GPIOE, ENABLE);
}

